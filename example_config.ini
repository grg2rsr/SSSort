[path]
; the name of folder in which all results will be stored
experiment_name = test
; path to the data
data_path = /home/georg/Projects/DroSort/data/WTlist.dill

[preprocessing]
; recording will be high-pass filtered by this value in [Hz]
highpass_freq = 100
; recording will be z-scored if True
z_score = True

[spike detect]
; run only initial spike detection to calibrate spike detection parameters
spike_detect_only = False
; find positive or negative values in voltage trace
peak_mode = negative
; minimum spike amplitude in median absolute deviations
amplitude = 3
; minimum peak prominence of spike
min_prominence = 3 
; window around spike in ms
wsize = 4

[spike sort]
; initial number of clusters
init_clusters = 6
; final number of clusters
n_clust_final = 3
; no more reassigned spikes than this fraction for convergence
conv_crit = 0.005
; number of past iterations to consider when computing convergence
history_len = 6
; abort algorithm if no convergence is reached after this number of iterations
iterations = 48
; confirm merges manually?
manual_merge = True
; force merges until n_clust_final is reached
force_merge = True
; initial alpha for clustering. If force_merge=True, this value does not matter much
clust_alpha = 0.5

; added penalty to the score of a spike when scored with templates from
; another cluster. This makes it harder for spikes to be reassigned
; decrease this value if you think you have more than one unit within one
; cluster
reassign_penalty = 0.15
; added penalty to the score of a spike if in the smallest cluster.
; Assumes that cluster with the smallest amplitude is noise and not spikes.
; set to 0 if all clusters definitely represent units
noise_penalty = 4.0
; fraction of spikes that are randomly unassigned at each iteration
; increase this value if you find the algorithm getting stuck in a local
; minima and terminating prematurely
f_noise = 0.05

[spike model]
; number of features
; increase this number if your spikes are very similar in temporal shape
n_model_comp = 5
; parameter for outlier detection
; incease this number if you your models predictions don't look like "healthy" spikes
template_reject = 40

[output]
; output file format
output_format = .dill
; write spike times as .csv?
csv = False
; zoom in ms for high magnification spike train inspect
zoom = 2200, 3000
; figure format and resolution
fig_format = .png
fig_dpi = 166

[kernels]
; the time constant of the fast kernel, used for the firing rate estimation
; change this value carefully if you think the models do not capture the 
; temporal dependence of firing rate on spike shape (e.g. how quickly
; it recovers)
sigma_fast = 0.05
; the time constant of the slow kernel, used for across-unit firing rate prediction.
; change this value if you think the same unit with high and low firing
; rates is split into different clusters
sigma_slow = 0.10
